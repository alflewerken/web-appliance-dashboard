/* Mobile-specific styles for ApplianceCard - FIXED VERSION */

/* Mobile breakpoint - max-width: 768px */
@media (max-width: 768px) {
  /* CRITICAL: Fix z-index stacking on mobile */
  /* Info section should be at bottom, buttons at top */
  
  /* Force info section to bottom with lower z-index */
  .card-info {
    z-index: 2 !important;
    position: absolute !important;
    bottom: 0 !important;
  }
  
  /* Force buttons to top with highest z-index */
  .card-buttons-left,
  .card-buttons-right {
    position: absolute !important;
    top: 10px !important;
    transform: none !important;
    z-index: 20 !important; /* Higher than everything else */
    opacity: 1 !important;
    gap: 6px;
  }

  .card-buttons-left {
    left: 6px !important;
  }

  .card-buttons-right {
    right: 6px !important;
  }
  
  /* Ensure card-cover doesn't interfere */
  .card-cover {
    z-index: 1 !important;
  }
  
  /* Ensure service status bar is ABOVE the card */
  .service-status-bar {
    z-index: 25 !important; /* Highest z-index */
    position: absolute !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
  }

  /* Button sizes for mobile */
  .card-front .action-btn,
  .card-front .file-transfer-button,
  .card-front .remote-desktop-btn {
    width: 28px;
    height: 28px;
    min-width: 28px;
    min-height: 28px;
  }

  /* Icon sizes */
  .card-front .action-btn svg,
  .card-front .file-transfer-button svg,
  .card-front .remote-desktop-btn svg {
    width: 16px;
    height: 16px;
  }

  /* Touch feedback */
  .card-front {
    -webkit-tap-highlight-color: transparent;
  }

  /* Better touch targets */
  .action-btn,
  .file-transfer-button,
  .remote-desktop-btn {
    min-width: 44px;
    min-height: 44px;
    padding: 8px;
  }
}

/* Touch devices override */
@media (hover: none) {
  .card-buttons-left,
  .card-buttons-right {
    opacity: 1;
    top: 10px !important;
    transform: translateY(0) !important;
    z-index: 20 !important;
  }
  
  .card-info {
    z-index: 2 !important;
  }
  
  .service-status-bar {
    z-index: 25 !important;
  }
}

/* Landscape orientation on mobile */
@media (max-width: 768px) and (orientation: landscape) {
  .card-buttons-left,
  .card-buttons-right {
    gap: 4px;
    top: 8px !important;
    z-index: 20 !important;
  }
}

/* Safe area insets for iOS */
@supports (padding-left: env(safe-area-inset-left)) {
  @media (max-width: 768px) {
    .card-buttons-left {
      left: max(6px, env(safe-area-inset-left));
    }

    .card-buttons-right {
      right: max(6px, env(safe-area-inset-right));
    }
  }
}

/* EXTRA OVERRIDE: Force button visibility on all small screens */
@media screen and (max-width: 768px) {
  /* Make absolutely sure buttons are on top */
  .appliance-card-container .card-buttons-left,
  .appliance-card-container .card-buttons-right {
    z-index: 9999 !important;
    position: absolute !important;
    top: 10px !important;
  }
  
  /* Make sure info doesn't overlap buttons */
  .appliance-card-container .card-info {
    z-index: 1 !important;
    max-height: 35% !important;
  }
  
  /* Status bar must be visible */
  .appliance-card-container .service-status-bar {
    z-index: 10000 !important;
  }
}
