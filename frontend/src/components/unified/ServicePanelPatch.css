/* Service Panel Unified Design Patch */

/* Override MUI Background for Service Panel */
.MuiBox-root[style*='backgroundColor: rgba(0, 0, 0, 0.95)'][style*='backdropFilter: blur(20px)'] {
  /* Glassmorphism effect matching audit log */
  background: rgba(118, 118, 128, 0.12) !important;
  backdrop-filter: blur(30px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(30px) saturate(150%) !important;
  border-left: 1px solid rgba(255, 255, 255, 0.08) !important;
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3) !important;
}

/* Service Panel Header - Match Audit Log */
.MuiBox-root > .MuiBox-root[style*='padding: 3rem'][style*='borderBottom'] {
  padding: 20px 24px !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
  background: transparent !important;
}

/* Header Typography */
.MuiTypography-h4[style*='fontWeight: 600'] {
  font-size: 20px !important;
  font-weight: 600 !important;
  color: white !important;
  display: flex !important;
  align-items: center !important;
  gap: 12px !important;
}

/* Tab Buttons Container */
.MuiBox-root[style*='display: flex'][style*='borderBottom'][style*='backgroundColor: rgba(0, 0, 0, 0.3)'] {
  border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
  background: rgba(0, 0, 0, 0.3) !important;
  flex-shrink: 0 !important;
  min-height: 48px !important;
}

/* Tab Buttons */
.MuiButton-root[style*='flex: 1'][style*='borderRadius: 0'] {
  padding: 12px 16px !important;
  color: rgba(255, 255, 255, 0.7) !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  border-bottom: 2px solid transparent !important;
  transition: all 0.2s !important;
}

.MuiButton-root[style*='flex: 1'][style*='borderRadius: 0']:hover {
  background-color: rgba(255, 255, 255, 0.05) !important;
  color: rgba(255, 255, 255, 0.9) !important;
}

.MuiButton-root[style*='color: var(--primary-color)'] {
  color: #007aff !important;
  border-bottom-color: #007aff !important;
}

/* Form Controls */
.MuiTextField-root {
  margin-bottom: 16px !important;
}

.MuiTextField-root .MuiInputLabel-root {
  color: rgba(255, 255, 255, 0.7) !important;
}

.MuiTextField-root .MuiInputBase-root {
  color: white !important;
  background-color: rgba(118, 118, 128, 0.12) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
}

.MuiTextField-root .MuiOutlinedInput-notchedOutline {
  border-color: rgba(255, 255, 255, 0.08) !important;
}

.MuiTextField-root:hover .MuiOutlinedInput-notchedOutline {
  border-color: rgba(255, 255, 255, 0.16) !important;
}

.MuiTextField-root .Mui-focused .MuiOutlinedInput-notchedOutline {
  border-color: #007aff !important;
}

/* Select Controls */
.MuiFormControl-root .MuiSelect-root {
  color: white !important;
  background-color: rgba(118, 118, 128, 0.12) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
}

/* Icon Preview Box */
.MuiBox-root[style*='width: 60px'][style*='height: 60px'] {
  border-radius: 12px !important;
  transition: all 0.2s !important;
}

.MuiBox-root[style*='width: 60px'][style*='height: 60px']:hover {
  transform: scale(1.05) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

/* Color Presets */
.MuiBox-root[style*='width: 32px'][style*='height: 32px'] {
  border-radius: 8px !important;
  cursor: pointer !important;
  transition: all 0.2s !important;
  border: 2px solid transparent !important;
}

.MuiBox-root[style*='width: 32px'][style*='height: 32px']:hover {
  transform: scale(1.1) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

/* Dividers */
.MuiDivider-root {
  border-color: rgba(255, 255, 255, 0.08) !important;
}

/* Alert Messages */
.MuiAlert-root {
  margin-bottom: 16px !important;
  backdrop-filter: blur(10px) !important;
}

.MuiAlert-standardInfo {
  background-color: rgba(0, 122, 255, 0.1) !important;
  color: #007aff !important;
  border: 1px solid rgba(0, 122, 255, 0.3) !important;
}

/* Buttons */
.MuiButton-containedPrimary,
.MuiButton-root[style*='backgroundColor: var(--primary-color)'] {
  background-color: #007aff !important;
  color: white !important;
  font-weight: 500 !important;
}

.MuiButton-containedPrimary:hover,
.MuiButton-root[style*='backgroundColor: var(--primary-color)']:hover {
  background-color: #0051d5 !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3) !important;
}

.MuiButton-outlinedError {
  border-color: #ff3b30 !important;
  color: #ff3b30 !important;
}

.MuiButton-outlinedError:hover {
  background-color: rgba(255, 59, 48, 0.1) !important;
  border-color: #ff3b30 !important;
}

/* Command Cards */
.MuiBox-root[style*='background: linear-gradient'] {
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  backdrop-filter: blur(10px) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.MuiBox-root[style*='background: linear-gradient']:hover {
  transform: translateY(-2px) !important;
  border-color: rgba(255, 255, 255, 0.16) !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3) !important;
}

/* Command Description Wrapping */
.MuiTypography-body1[style*='wordBreak: break-word'] {
  word-break: break-word !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
  -webkit-hyphens: auto !important;
  -moz-hyphens: auto !important;
  -ms-hyphens: auto !important;
}

/* Sliders */
.MuiSlider-root {
  color: #007aff !important;
}

.MuiSlider-thumb {
  background-color: #007aff !important;
  box-shadow: 0 2px 8px rgba(0, 122, 255, 0.4) !important;
}

.MuiSlider-thumb:hover {
  box-shadow: 0 2px 12px rgba(0, 122, 255, 0.6) !important;
}

.MuiSlider-track {
  background-color: #007aff !important;
}

.MuiSlider-rail {
  background-color: rgba(255, 255, 255, 0.2) !important;
}

/* Preview Box */
.MuiBox-root[style*='backgroundColor: rgba(255, 255, 255, 0.05)'][style*='borderRadius: 2rem'] {
  background: rgba(118, 118, 128, 0.12) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
}

/* Command Output Box */
.MuiBox-root[style*='backgroundColor: #1a1a1a'] {
  background-color: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
}

/* Loading State */
.MuiCircularProgress-root {
  color: #007aff !important;
}

/* Resize Handle */
.MuiBox-root[onMouseDown][style*='position: absolute'][style*='left: -5px'] {
  background: transparent !important;
  transition: background 0.2s !important;
}

.MuiBox-root[onMouseDown][style*='position: absolute'][style*='left: -5px']:hover {
  background: rgba(0, 122, 255, 0.5) !important;
}

/* Resize Handle Indicator */
.MuiBox-root[onMouseDown][style*='position: absolute'][style*='left: -5px']::after {
  background-color: rgba(255, 255, 255, 0.3) !important;
  transition: background-color 0.2s !important;
}

/* Scrollbar */
.MuiBox-root[style*='overflow: auto']::-webkit-scrollbar {
  width: 8px !important;
}

.MuiBox-root[style*='overflow: auto']::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05) !important;
  border-radius: 4px !important;
}

.MuiBox-root[style*='overflow: auto']::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2) !important;
  border-radius: 4px !important;
}

.MuiBox-root[style*='overflow: auto']::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3) !important;
}

/* Delete Confirmation Modal */
.MuiBox-root[style*='backgroundColor: rgba(0, 0, 0, 0.8)'][style*='position: fixed'] {
  background-color: rgba(0, 0, 0, 0.8) !important;
  backdrop-filter: blur(10px) !important;
}

.MuiBox-root[style*='backgroundColor: rgba(0, 0, 0, 0.95)'][style*='border: 1px solid rgba(255, 255, 255, 0.1)'] {
  background: rgba(28, 28, 30, 0.95) !important;
  backdrop-filter: blur(20px) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
}

/* Snackbar */
.MuiSnackbar-root .MuiAlert-root {
  backdrop-filter: blur(10px) !important;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  /* Full width on mobile */
  .MuiBox-root[style*='width'][style*='height: 100%'][style*='backgroundColor: rgba(0, 0, 0, 0.95)'] {
    width: 100% !important;
    width: 100vw !important;
    max-width: 100vw !important;
    border-left: none !important;
    box-shadow: none !important;
    /* WICHTIG: Keine padding hier - wird in Kindern behandelt */
    padding: 0 !important;
    box-sizing: border-box !important;
    overflow-x: hidden !important;
  }

  /* Hide resize handle on mobile */
  .MuiBox-root[onMouseDown][style*='position: absolute'][style*='left: -5px'] {
    display: none !important;
  }

  /* Adjust header padding with safe areas */
  .MuiBox-root > .MuiBox-root[style*='padding: 3rem'][style*='borderBottom'] {
    padding: 16px !important;
    padding-top: calc(16px + env(safe-area-inset-top, 0)) !important;
    padding-left: calc(16px + env(safe-area-inset-left, 0)) !important;
    padding-right: calc(16px + env(safe-area-inset-right, 0)) !important;
    box-sizing: border-box !important;
  }

  /* Smaller typography on mobile */
  .MuiTypography-h4[style*='fontWeight: 600'] {
    font-size: 18px !important;
  }

  /* Tab adjustments */
  .MuiButton-root[style*='flex: 1'][style*='borderRadius: 0'] {
    min-width: 0 !important;
    padding: 10px 12px !important;
    font-size: 13px !important;
  }

  /* Content padding with safe areas */
  .MuiBox-root[style*='flexGrow: 1'][style*='overflow: auto'] {
    padding: 16px !important;
    padding-left: calc(16px + env(safe-area-inset-left, 0)) !important;
    padding-right: calc(16px + env(safe-area-inset-right, 0)) !important;
    padding-bottom: calc(16px + env(safe-area-inset-bottom, 0)) !important;
    box-sizing: border-box !important;
    overflow-x: hidden !important;
  }

  /* Tab container with safe areas */
  .MuiBox-root[style*='display: flex'][style*='borderBottom'][style*='backgroundColor: rgba(0, 0, 0, 0.3)'] {
    padding-left: env(safe-area-inset-left, 0) !important;
    padding-right: env(safe-area-inset-right, 0) !important;
    box-sizing: border-box !important;
  }
}

/* Fix for service panel tabs scrolling */
.service-panel-tabs {
  position: sticky !important;
  top: 0 !important;
  z-index: 10 !important;
  background: inherit !important;
}

/* Ensure swipeable views container has proper height */
.react-swipeable-view-container {
  height: 100% !important;
}

/* Fix for tab content scrolling */
.react-swipeable-view-container > div {
  height: 100% !important;
}

/* Ensure each tab content can scroll */
.react-swipeable-view-container > div > div {
  height: 100% !important;
  overflow: auto !important;
  -webkit-overflow-scrolling: touch !important;
}
