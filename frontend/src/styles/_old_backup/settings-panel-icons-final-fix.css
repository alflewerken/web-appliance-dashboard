/* ========================================================================
   SETTINGS PANEL ICONS FINAL FIX
   ========================================================================
   KRITISCH: Diese Datei MUSS nach allen anderen CSS-Dateien geladen werden
   ======================================================================== */

/* FORCE: Icon-Boxen im Settings Panel MÜSSEN ihren farbigen Hintergrund behalten */
.settings-panel
  .MuiListItem-root
  .MuiListItemIcon-root
  .MuiBox-root[style*='backgroundColor'],
.settings-panel
  .MuiListItem-root
  .MuiListItemIcon-root
  .MuiBox-root[style*='background-color'],
.MuiDialog-root
  .MuiListItem-root
  .MuiListItemIcon-root
  .MuiBox-root[style*='backgroundColor'],
.MuiDialog-root
  .MuiListItem-root
  .MuiListItemIcon-root
  .MuiBox-root[style*='background-color'],
[role='tabpanel']
  .MuiListItem-root
  .MuiListItemIcon-root
  .MuiBox-root[style*='backgroundColor'],
[role='tabpanel']
  .MuiListItem-root
  .MuiListItemIcon-root
  .MuiBox-root[style*='background-color'] {
  /* Diese Boxen haben inline background-color styles - NIEMALS überschreiben! */
  background: initial !important;
  background-color: initial !important;

  /* Basis-Styles */
  width: 36px !important;
  height: 36px !important;
  border-radius: 10px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Alternative: Verwende CSS-Variablen für noch höhere Spezifität */
.settings-panel .MuiListItem-root .MuiListItemIcon-root .MuiBox-root {
  background: var(--icon-bg, initial) !important;
  background-color: var(--icon-bg-color, initial) !important;
}

/* Icons in den farbigen Boxen */
.settings-panel .MuiListItemIcon-root .MuiBox-root svg,
.settings-panel .MuiListItemIcon-root .MuiBox-root .simple-icon {
  width: 20px !important;
  height: 20px !important;
  color: rgba(255, 255, 255, 0.9) !important;
  stroke-width: 2 !important;
  fill: none !important;
}

/* Hover-Effekt */
.settings-panel .MuiListItem-root:hover .MuiListItemIcon-root .MuiBox-root {
  transform: scale(1.05) !important;
}

/* Grip Handle - KEIN farbiger Hintergrund */
.settings-panel .MuiListItemIcon-root:first-child {
  min-width: 56px !important;
}

.settings-panel .MuiListItemIcon-root:first-child svg {
  color: var(--text-secondary) !important;
  cursor: grab !important;
}

/* Zweites ListItemIcon (mit der farbigen Box) */
.settings-panel .MuiListItemIcon-root:nth-child(2) {
  min-width: 48px !important;
  margin-right: 12px !important;
}

/* Debug Helper */
.debug-settings-icons .settings-panel .MuiListItemIcon-root .MuiBox-root {
  outline: 2px solid red !important;
}

/* SUPER FORCE: Überschreibe ALLE transparent Regeln für diese spezifischen Elemente */
html
  body
  .settings-panel
  .MuiListItem-root
  .MuiListItemIcon-root
  .MuiBox-root[style*='background'] {
  background: revert !important;
  background-color: revert !important;
}

/* Drag Indicator */
.settings-panel .drop-indicator {
  height: 3px !important;
  background-color: var(--primary-color, #007aff) !important;
  margin: 8px 16px !important;
  border-radius: 2px !important;
  box-shadow: 0 0 8px var(--primary-color, #007aff) !important;
  animation: dropIndicatorPulse 1s ease-in-out infinite !important;
}

@keyframes dropIndicatorPulse {
  0% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.6;
  }
}
