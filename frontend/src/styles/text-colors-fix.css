/* ========================================================================
   TEXT AND LABEL COLORS FIX
   ========================================================================
   Korrekte Text- und Label-Farben für Dark und Light Mode
   ======================================================================== */

/* ========================================================================
   DARK MODE - Helle Texte und Labels
   ======================================================================== */

/* Allgemeine Texte im Dark Mode */
body.theme-dark,
body.theme-dark .music-app,
body.theme-dark .panel-container {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Labels für Formular-Elemente */
body.theme-dark label,
body.theme-dark .MuiFormLabel-root,
body.theme-dark .MuiInputLabel-root,
body.theme-dark .MuiFormControlLabel-label {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Input Texte */
body.theme-dark input,
body.theme-dark select,
body.theme-dark textarea,
body.theme-dark .MuiInputBase-root,
body.theme-dark .MuiInputBase-input,
body.theme-dark .MuiSelect-select {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Placeholder Texte */
body.theme-dark input::placeholder,
body.theme-dark textarea::placeholder,
body.theme-dark .MuiInputBase-input::placeholder {
  color: rgba(255, 255, 255, 0.5) !important;
}

/* Typography Komponenten */
body.theme-dark .MuiTypography-root,
body.theme-dark h1,
body.theme-dark h2,
body.theme-dark h3,
body.theme-dark h4,
body.theme-dark h5,
body.theme-dark h6,
body.theme-dark p,
body.theme-dark span {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Secondary Text */
body.theme-dark .MuiTypography-colorTextSecondary,
body.theme-dark .text-secondary,
body.theme-dark .MuiListItemText-secondary {
  color: rgba(255, 255, 255, 0.7) !important;
}

/* Buttons */
body.theme-dark button,
body.theme-dark .MuiButton-root:not(.MuiButton-contained) {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* List Items */
body.theme-dark .MuiListItem-root,
body.theme-dark .MuiListItemText-primary,
body.theme-dark .MuiMenuItem-root {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Tabs */
body.theme-dark .MuiTab-root {
  color: rgba(255, 255, 255, 0.7) !important;
}

body.theme-dark .MuiTab-root.Mui-selected {
  color: #007aff !important;
}

/* Icons mit Text */
body.theme-dark .MuiSvgIcon-root,
body.theme-dark svg {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* ========================================================================
   LIGHT MODE - Dunkle Texte und Labels
   ======================================================================== */

/* Allgemeine Texte im Light Mode */
body.theme-light,
body.theme-light .music-app,
body.theme-light .panel-container {
  color: rgba(0, 0, 0, 0.87) !important;
}

/* Labels für Formular-Elemente */
body.theme-light label,
body.theme-light .MuiFormLabel-root,
body.theme-light .MuiInputLabel-root,
body.theme-light .MuiFormControlLabel-label {
  color: rgba(0, 0, 0, 0.87) !important;
}

/* Input Texte */
body.theme-light input,
body.theme-light select,
body.theme-light textarea,
body.theme-light .MuiInputBase-root,
body.theme-light .MuiInputBase-input,
body.theme-light .MuiSelect-select {
  color: rgba(0, 0, 0, 0.87) !important;
}

/* Placeholder Texte */
body.theme-light input::placeholder,
body.theme-light textarea::placeholder,
body.theme-light .MuiInputBase-input::placeholder {
  color: rgba(0, 0, 0, 0.5) !important;
}

/* Typography Komponenten */
body.theme-light .MuiTypography-root,
body.theme-light h1,
body.theme-light h2,
body.theme-light h3,
body.theme-light h4,
body.theme-light h5,
body.theme-light h6,
body.theme-light p,
body.theme-light span {
  color: rgba(0, 0, 0, 0.87) !important;
}

/* Secondary Text */
body.theme-light .MuiTypography-colorTextSecondary,
body.theme-light .text-secondary,
body.theme-light .MuiListItemText-secondary {
  color: rgba(0, 0, 0, 0.6) !important;
}

/* Buttons */
body.theme-light button,
body.theme-light .MuiButton-root:not(.MuiButton-contained) {
  color: rgba(0, 0, 0, 0.87) !important;
}

/* List Items */
body.theme-light .MuiListItem-root,
body.theme-light .MuiListItemText-primary,
body.theme-light .MuiMenuItem-root {
  color: rgba(0, 0, 0, 0.87) !important;
}

/* Tabs */
body.theme-light .MuiTab-root {
  color: rgba(0, 0, 0, 0.6) !important;
}

body.theme-light .MuiTab-root.Mui-selected {
  color: #007aff !important;
}

/* Icons mit Text */
body.theme-light .MuiSvgIcon-root:not(.lucide),
body.theme-light svg:not(.lucide) {
  color: rgba(0, 0, 0, 0.87) !important;
}

/* ========================================================================
   SPEZIELLE AUSNAHMEN
   ======================================================================== */

/* Behalte weiße Icons auf farbigen Hintergründen */
[style*='background-color'] svg,
[style*='backgroundColor'] svg,
.icon-container svg,
.nav-icon-container svg {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Primary Color Buttons behalten ihre Farben */
.MuiButton-containedPrimary {
  color: white !important;
}

/* Error/Warning/Success Messages */
.MuiAlert-root {
  /* Behalten ihre Standard-Farben */
}

/* Disabled Elements */
body.theme-dark .Mui-disabled,
body.theme-dark [disabled] {
  color: rgba(255, 255, 255, 0.3) !important;
}

body.theme-light .Mui-disabled,
body.theme-light [disabled] {
  color: rgba(0, 0, 0, 0.26) !important;
}

/* ========================================================================
   FORM CONTROL BORDERS
   ======================================================================== */

/* Dark Mode Borders */
body.theme-dark .MuiOutlinedInput-notchedOutline,
body.theme-dark .MuiInput-underline:before {
  border-color: rgba(255, 255, 255, 0.23) !important;
}

body.theme-dark .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline {
  border-color: rgba(255, 255, 255, 0.5) !important;
}

/* Light Mode Borders */
body.theme-light .MuiOutlinedInput-notchedOutline,
body.theme-light .MuiInput-underline:before {
  border-color: rgba(0, 0, 0, 0.23) !important;
}

body.theme-light .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline {
  border-color: rgba(0, 0, 0, 0.5) !important;
}

/* ========================================================================
   DROPDOWN MENUS
   ======================================================================== */

/* Dark Mode Dropdown */
body.theme-dark .MuiMenu-paper,
body.theme-dark .MuiPopover-paper {
  background-color: #1c1c1e !important;
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Light Mode Dropdown */
body.theme-light .MuiMenu-paper,
body.theme-light .MuiPopover-paper {
  background-color: #ffffff !important;
  color: rgba(0, 0, 0, 0.87) !important;
}

/* ========================================================================
   TABLE CELLS FIX - Speziell für Audit Log Detail
   ======================================================================== */

/* Dark Mode - Table Cells mit erhöhter Spezifität */
body.theme-dark .MuiTableCell-root,
body.theme-dark .MuiDialog-root .MuiTableCell-root,
body.theme-dark .MuiModal-root .MuiTableCell-root,
body.theme-dark .MuiPaper-root .MuiTableCell-root {
  color: rgba(255, 255, 255, 0.9) !important;
}

body.theme-dark .MuiTableCell-head,
body.theme-dark .MuiDialog-root .MuiTableCell-head,
body.theme-dark .MuiModal-root .MuiTableCell-head {
  color: rgba(255, 255, 255, 0.9) !important;
}

body.theme-dark .MuiTableCell-body,
body.theme-dark .MuiDialog-root .MuiTableCell-body,
body.theme-dark .MuiModal-root .MuiTableCell-body {
  color: rgba(255, 255, 255, 0.87) !important;
}

/* Dark Mode - Strong tags in tables mit erhöhter Spezifität */
body.theme-dark .MuiTableCell-root strong,
body.theme-dark .MuiTableCell-root b,
body.theme-dark .MuiDialog-root .MuiTableCell-root strong,
body.theme-dark .MuiModal-root .MuiTableCell-root strong {
  color: rgba(255, 255, 255, 0.95) !important;
  font-weight: 600;
}

/* Audit Log spezifische Selektoren */
body.theme-dark [role="dialog"] .MuiTableCell-root,
body.theme-dark [role="presentation"] .MuiTableCell-root {
  color: rgba(255, 255, 255, 0.9) !important;
}

body.theme-dark [role="dialog"] strong,
body.theme-dark [role="presentation"] strong {
  color: rgba(255, 255, 255, 0.95) !important;
}

/* Light Mode - Table Cells */
body.theme-light .MuiTableCell-root {
  color: rgba(0, 0, 0, 0.87) !important;
}

body.theme-light .MuiTableCell-head {
  color: rgba(0, 0, 0, 0.87) !important;
}

body.theme-light .MuiTableCell-body {
  color: rgba(0, 0, 0, 0.87) !important;
}

/* Light Mode - Strong tags in tables */
body.theme-light .MuiTableCell-root strong,
body.theme-light .MuiTableCell-root b {
  color: rgba(0, 0, 0, 0.87) !important;
  font-weight: 600;
}

/* Table Container Background - ENTFERNT für AuditLog Kompatibilität */
/* 
body.theme-dark .MuiTableContainer-root {
  background-color: rgba(255, 255, 255, 0.05) !important;
}

body.theme-light .MuiTableContainer-root {
  background-color: rgba(255, 255, 255, 0.95) !important;
}
*/

/* OVERRIDE für Audit Log Panel - Höhere Spezifität */
body.theme-dark .audit-log-panel .MuiTableContainer-root {
  background-color: transparent !important;
  background: transparent !important;
}

body.theme-light .audit-log-panel .MuiTableContainer-root {
  background-color: transparent !important;
  background: transparent !important;
}

/* Table Row Hover */
body.theme-dark .MuiTableRow-root:hover {
  background-color: rgba(255, 255, 255, 0.08) !important;
}

body.theme-light .MuiTableRow-root:hover {
  background-color: rgba(0, 0, 0, 0.04) !important;
}


/* Pre/Code blocks in Audit Log */
body.theme-dark pre,
body.theme-dark .MuiDialog-root pre,
body.theme-dark .MuiModal-root pre {
  color: rgba(255, 255, 255, 0.9) !important;
  background-color: rgba(255, 255, 255, 0.05) !important;
}

body.theme-light pre,
body.theme-light .MuiDialog-root pre,
body.theme-light .MuiModal-root pre {
  color: rgba(0, 0, 0, 0.87) !important;
  background-color: rgba(0, 0, 0, 0.05) !important;
}

/* Alle Text-Elemente in Dialogen - Fallback */
body.theme-dark .MuiDialog-root *,
body.theme-dark .MuiModal-root * {
  color: inherit;
}

/* Explizite Überschreibung für alle Texte in Tabellen */
body.theme-dark .MuiTable-root *:not(svg):not(path) {
  color: rgba(255, 255, 255, 0.9);
}

body.theme-light .MuiTable-root *:not(svg):not(path) {
  color: rgba(0, 0, 0, 0.87);
}


/* ========================================================================
   AUDIT LOG DETAIL SPEZIFISCH - MAXIMALE SPEZIFITÄT
   ======================================================================== */

/* Überschreibe ALLE Texte im Audit Log Detail Modal */
body.theme-dark #root .MuiDialog-root .MuiTableCell-root,
body.theme-dark #root .MuiModal-root .MuiTableCell-root,
body.theme-dark .MuiBackdrop-root ~ .MuiDialog-root .MuiTableCell-root {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Feldname, Alter Wert, Neuer Wert - Header */
body.theme-dark #root .MuiTableHead-root .MuiTableCell-root,
body.theme-dark #root .MuiTableHead-root .MuiTableCell-root strong,
body.theme-dark #root .MuiTableHead-root .MuiTableCell-root b {
  color: rgba(255, 255, 255, 0.95) !important;
}

/* Table Body Cells */
body.theme-dark #root .MuiTableBody-root .MuiTableCell-root {
  color: rgba(255, 255, 255, 0.87) !important;
}

/* Forciere alle Texte in Tabellen-Containern */
body.theme-dark .MuiTableContainer-root td,
body.theme-dark .MuiTableContainer-root th {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Light Mode für Audit Log Detail */
body.theme-light #root .MuiDialog-root .MuiTableCell-root,
body.theme-light #root .MuiModal-root .MuiTableCell-root,
body.theme-light .MuiBackdrop-root ~ .MuiDialog-root .MuiTableCell-root {
  color: rgba(0, 0, 0, 0.87) !important;
}

body.theme-light #root .MuiTableHead-root .MuiTableCell-root,
body.theme-light #root .MuiTableHead-root .MuiTableCell-root strong,
body.theme-light #root .MuiTableHead-root .MuiTableCell-root b {
  color: rgba(0, 0, 0, 0.87) !important;
}

body.theme-light .MuiTableContainer-root td,
body.theme-light .MuiTableContainer-root th {
  color: rgba(0, 0, 0, 0.87) !important;
}


/* ========================================================================
   ULTIMATIVE LÖSUNG - INLINE STYLE OVERRIDE
   ======================================================================== */

/* Forciere mit der höchstmöglichen Spezifität */
html body.theme-dark * {
  --text-primary: rgba(255, 255, 255, 0.9);
  --text-secondary: rgba(255, 255, 255, 0.7);
}

html body.theme-light * {
  --text-primary: rgba(0, 0, 0, 0.87);
  --text-secondary: rgba(0, 0, 0, 0.6);
}

/* Überschreibe MUI Paper in Modals */
body.theme-dark .MuiPaper-root {
  color: var(--text-primary) !important;
}

body.theme-light .MuiPaper-root {
  color: var(--text-primary) !important;
}

/* Spezifisch für Audit Log Tabellen mit absoluter Priorität */
html body.theme-dark div[role="presentation"] table * {
  color: rgba(255, 255, 255, 0.9) !important;
}

html body.theme-light div[role="presentation"] table * {
  color: rgba(0, 0, 0, 0.87) !important;
}

/* Nuclear Option - Überschreibe ALLES in Audit Log Dialogen */
html body.theme-dark .MuiDialog-container table,
html body.theme-dark .MuiDialog-container td,
html body.theme-dark .MuiDialog-container th,
html body.theme-dark .MuiDialog-container strong {
  color: rgba(255, 255, 255, 0.9) !important;
}

html body.theme-light .MuiDialog-container table,
html body.theme-light .MuiDialog-container td,
html body.theme-light .MuiDialog-container th,
html body.theme-light .MuiDialog-container strong {
  color: rgba(0, 0, 0, 0.87) !important;
}
