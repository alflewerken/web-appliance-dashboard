/* ========================================================================
   TRANSPARENT PANELS MODE
   ========================================================================
   Aktiviert/Deaktiviert transparente Panels basierend auf Toggle
   ======================================================================== */

/* Normal Mode - Panels sind KOMPLETT OPAK (keine Transparenz) */
body:not(.transparent-panels) .settings-panel,
body:not(.transparent-panels) .service-panel,
body:not(.transparent-panels) .user-panel,
body:not(.transparent-panels) .audit-log-panel {
  background: rgb(28, 28, 30) !important; /* 100% opak - KEINE Transparenz */
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

body.theme-light:not(.transparent-panels) .settings-panel,
body.theme-light:not(.transparent-panels) .service-panel,
body.theme-light:not(.transparent-panels) .user-panel,
body.theme-light:not(.transparent-panels) .audit-log-panel {
  background: rgb(255, 255, 255) !important; /* 100% opak - KEINE Transparenz */
}

/* Transparent Mode - Panels sind transparent mit Glassmorphism */
body.transparent-panels .settings-panel,
body.transparent-panels .service-panel,
body.transparent-panels .user-panel,
body.transparent-panels .audit-log-panel {
  background: rgba(28, 28, 30, 0.88) !important; /* Wie Sidebar */
  backdrop-filter: blur(30px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(30px) saturate(150%) !important;
}

body.theme-light.transparent-panels .settings-panel,
body.theme-light.transparent-panels .service-panel,
body.theme-light.transparent-panels .user-panel,
body.theme-light.transparent-panels .audit-log-panel {
  background: rgba(255, 255, 255, 0.88) !important; /* Wie Sidebar */
}

/* Entferne die ::after Verdunkelung im Normal Mode */
body:not(.transparent-panels) .settings-panel::after,
body:not(.transparent-panels) .service-panel::after,
body:not(.transparent-panels) .user-panel::after,
body:not(.transparent-panels) .audit-log-panel::after {
  display: none !important;
}

/* Panel Headers im Normal Mode - OPAK */
body:not(.transparent-panels) .panel-header,
body:not(.transparent-panels) .service-panel-header,
body:not(.transparent-panels) .settings-panel-header,
body:not(.transparent-panels) .user-panel-header,
body:not(.transparent-panels) .audit-log-panel .panel-header {
  background: rgb(44, 44, 46) !important; /* Solider Hintergrund */
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

body.theme-light:not(.transparent-panels) .panel-header,
body.theme-light:not(.transparent-panels) .service-panel-header,
body.theme-light:not(.transparent-panels) .settings-panel-header,
body.theme-light:not(.transparent-panels) .user-panel-header,
body.theme-light:not(.transparent-panels) .audit-log-panel .panel-header {
  background: rgb(242, 242, 247) !important; /* Solider heller Hintergrund */
}

/* MUI Komponenten im Normal Mode - OPAK */
body:not(.transparent-panels) .settings-panel .MuiTabs-root,
body:not(.transparent-panels) .settings-panel .MuiTab-root {
  background: rgb(44, 44, 46) !important;
  backdrop-filter: none !important;
}

body.theme-light:not(.transparent-panels) .settings-panel .MuiTabs-root,
body.theme-light:not(.transparent-panels) .settings-panel .MuiTab-root {
  background: rgb(242, 242, 247) !important;
}

/* Input Fields im Normal Mode - OPAK */
body:not(.transparent-panels) .panel-container input:not([type='color']),
body:not(.transparent-panels) .panel-container select,
body:not(.transparent-panels) .panel-container textarea {
  background: rgb(44, 44, 46) !important;
  backdrop-filter: none !important;
}

body.theme-light:not(.transparent-panels)
  .panel-container
  input:not([type='color']),
body.theme-light:not(.transparent-panels) .panel-container select,
body.theme-light:not(.transparent-panels) .panel-container textarea {
  background: rgb(242, 242, 247) !important;
}

/* Cards im Normal Mode - OPAK */
body:not(.transparent-panels) .panel-container .MuiCard-root {
  background: rgb(44, 44, 46) !important;
  backdrop-filter: none !important;
}

body.theme-light:not(.transparent-panels) .panel-container .MuiCard-root {
  background: rgb(242, 242, 247) !important;
}

/* OVERRIDE: Stelle sicher, dass ALLE Panel-Styles im Normal Mode opak sind */
body:not(.transparent-panels) [class*='-panel'] {
  opacity: 1 !important;
}

/* Box Shadows f√ºr bessere Abgrenzung im Normal Mode */
body:not(.transparent-panels) .settings-panel,
body:not(.transparent-panels) .service-panel,
body:not(.transparent-panels) .user-panel,
body:not(.transparent-panels) .audit-log-panel {
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.2) !important;
}

/* Entferne ALLE Transparenz-Effekte im Normal Mode */
body:not(.transparent-panels) .panel-container * {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* Smooth Transition */
.settings-panel,
.service-panel,
.user-panel,
.audit-log-panel {
  transition:
    background-color 0.3s ease,
    backdrop-filter 0.3s ease !important;
}
