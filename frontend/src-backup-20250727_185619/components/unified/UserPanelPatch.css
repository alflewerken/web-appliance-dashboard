/* User Panel Unified Design Patch */

/* Override MUI Background for User Panel */
.MuiBox-root[style*='backgroundColor: rgba(0, 0, 0, 0.95)'][style*='backdropFilter'] {
  /* Glassmorphism effect matching audit log */
  background: rgba(118, 118, 128, 0.12) !important;
  backdrop-filter: blur(30px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(30px) saturate(150%) !important;
  border-left: 1px solid rgba(255, 255, 255, 0.08) !important;
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3) !important;
}

/* User Panel Header - Match Audit Log */
.MuiBox-root[style*='display: flex'][style*='alignItems: center'][style*='justifyContent: space-between'][style*='padding: 2rem'] {
  padding: 20px 24px !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
  background: transparent !important;
}

/* Header Typography */
.MuiTypography-h6 {
  font-size: 20px !important;
  font-weight: 600 !important;
  color: white !important;
}

/* Tabs - Match Audit Log Style */
.MuiTabs-root {
  border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
  background: rgba(0, 0, 0, 0.3) !important;
}

.MuiTab-root {
  color: rgba(255, 255, 255, 0.7) !important;
  font-weight: 500 !important;
}

.MuiTab-root.Mui-selected {
  color: #007aff !important;
}

.MuiTabs-indicator {
  background-color: #007aff !important;
}

/* Tables - Glassmorphism Style */
.MuiTableContainer-root {
  background: rgba(118, 118, 128, 0.12) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  border-radius: 12px !important;
}

.MuiTable-root {
  background: transparent !important;
}

.MuiTableHead-root {
  background: rgba(0, 0, 0, 0.3) !important;
}

.MuiTableCell-head {
  color: rgba(255, 255, 255, 0.7) !important;
  font-weight: 600 !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
}

.MuiTableCell-body {
  color: rgba(255, 255, 255, 0.9) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
}

.MuiTableRow-root:hover {
  background: rgba(255, 255, 255, 0.05) !important;
}

/* User Cards for Mobile View */
.MuiPaper-root[style*='padding: 2rem'] {
  background: rgba(118, 118, 128, 0.12) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
}

/* Chips - Match Audit Log Style */
.MuiChip-root {
  font-weight: 500 !important;
}

/* Role Chips */
.MuiChip-root[style*='backgroundColor'] {
  border-width: 1px !important;
  border-style: solid !important;
}

/* Status Chips */
.MuiChip-root[style*='backgroundColor: rgba(52, 199, 89'] {
  background-color: rgba(52, 199, 89, 0.2) !important;
  color: #34c759 !important;
  border-color: #34c759 !important;
}

.MuiChip-root[style*='backgroundColor: rgba(255, 59, 48'] {
  background-color: rgba(255, 59, 48, 0.2) !important;
  color: #ff3b30 !important;
  border-color: #ff3b30 !important;
}

/* Avatar */
.MuiAvatar-root {
  background-color: #007aff !important;
}

/* Online Status Indicator */
.MuiBox-root[style*='backgroundColor: rgb(52, 199, 89)'] {
  background-color: #34c759 !important;
  border: 2px solid rgba(0, 0, 0, 0.95) !important;
}

/* Action Buttons */
.MuiIconButton-root {
  color: rgba(255, 255, 255, 0.7) !important;
  transition: all 0.2s !important;
}

.MuiIconButton-root:hover {
  color: white !important;
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* Tooltip Styles */
.MuiTooltip-tooltip {
  background-color: rgba(0, 0, 0, 0.9) !important;
  backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Dialog Styles */
.MuiDialog-paper {
  background: rgba(28, 28, 30, 0.95) !important;
  backdrop-filter: blur(20px) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  color: white !important;
}

.MuiDialogTitle-root {
  border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
}

/* Text Fields in Dialogs */
.MuiTextField-root .MuiInputBase-root {
  color: white !important;
  background: rgba(118, 118, 128, 0.12) !important;
}

.MuiTextField-root .MuiOutlinedInput-notchedOutline {
  border-color: rgba(255, 255, 255, 0.08) !important;
}

.MuiTextField-root:hover .MuiOutlinedInput-notchedOutline {
  border-color: rgba(255, 255, 255, 0.16) !important;
}

.MuiTextField-root .Mui-focused .MuiOutlinedInput-notchedOutline {
  border-color: #007aff !important;
}

/* Grid Cards for Statistics Tab */
.MuiGrid-root .MuiPaper-root {
  background: rgba(118, 118, 128, 0.12) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  text-align: center !important;
}

/* Statistics Typography */
.MuiTypography-h3 {
  font-weight: bold !important;
}

/* Progress Bar Container */
.MuiBox-root[style*='height: 8px'] {
  background-color: rgba(255, 255, 255, 0.1) !important;
  border-radius: 4px !important;
  overflow: hidden !important;
}

/* Resize Handle */
.MuiBox-root[onMouseDown] {
  transition: background-color 0.2s !important;
}

.MuiBox-root[onMouseDown]:hover {
  background-color: rgba(0, 122, 255, 0.5) !important;
}

/* Scrollbar */
.MuiBox-root[style*='overflow: auto']::-webkit-scrollbar {
  width: 8px !important;
}

.MuiBox-root[style*='overflow: auto']::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05) !important;
  border-radius: 4px !important;
}

.MuiBox-root[style*='overflow: auto']::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2) !important;
  border-radius: 4px !important;
}

.MuiBox-root[style*='overflow: auto']::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3) !important;
}

/* Add User Button */
.MuiButton-root[style*='backgroundColor: rgb(0, 122, 255)'] {
  background-color: #007aff !important;
  font-weight: 500 !important;
}

.MuiButton-root[style*='backgroundColor: rgb(0, 122, 255)']:hover {
  background-color: #0051d5 !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3) !important;
}

/* Snackbar Alerts */
.MuiSnackbar-root .MuiAlert-root {
  backdrop-filter: blur(10px) !important;
}

.MuiAlert-standardSuccess {
  background-color: rgba(52, 199, 89, 0.2) !important;
  color: #34c759 !important;
  border: 1px solid rgba(52, 199, 89, 0.4) !important;
}

.MuiAlert-standardError {
  background-color: rgba(255, 59, 48, 0.2) !important;
  color: #ff3b30 !important;
  border: 1px solid rgba(255, 59, 48, 0.4) !important;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  /* Full width on mobile without extra padding */
  .MuiBox-root[style*='width'][style*='height: 100%'] {
    width: 100% !important;
    width: 100vw !important;
    max-width: 100vw !important;
    border-left: none !important;
    box-shadow: none !important;
    /* WICHTIG: Keine padding auf Container-Ebene */
    padding: 0 !important;
    box-sizing: border-box !important;
    overflow-x: hidden !important;
  }

  /* Hide resize handle on mobile */
  .MuiBox-root[onMouseDown] {
    display: none !important;
  }

  /* Adjust header padding with safe areas */
  .MuiBox-root[style*='display: flex'][style*='alignItems: center'][style*='justifyContent: space-between'][style*='padding: 2rem'] {
    padding: 16px !important;
    padding-top: calc(16px + env(safe-area-inset-top, 0)) !important;
    padding-left: calc(16px + env(safe-area-inset-left, 0)) !important;
    padding-right: calc(16px + env(safe-area-inset-right, 0)) !important;
    box-sizing: border-box !important;
  }

  /* Smaller typography on mobile */
  .MuiTypography-h6 {
    font-size: 18px !important;
  }

  /* Tab adjustments with safe areas */
  .MuiTab-root {
    min-width: 0 !important;
    padding: 8px 12px !important;
    font-size: 13px !important;
  }

  .MuiTabs-root {
    padding-left: env(safe-area-inset-left, 0) !important;
    padding-right: env(safe-area-inset-right, 0) !important;
    box-sizing: border-box !important;
  }

  /* Content area with safe areas */
  .MuiBox-root[style*='flexGrow: 1'][style*='overflow: auto'] {
    padding-left: calc(16px + env(safe-area-inset-left, 0)) !important;
    padding-right: calc(16px + env(safe-area-inset-right, 0)) !important;
    padding-bottom: calc(16px + env(safe-area-inset-bottom, 0)) !important;
    box-sizing: border-box !important;
    overflow-x: hidden !important;
  }

  /* Table container adjustments */
  .MuiTableContainer-root {
    margin-left: env(safe-area-inset-left, 0) !important;
    margin-right: env(safe-area-inset-right, 0) !important;
    box-sizing: border-box !important;
  }
}
