# Environment Configuration for Docker Compose
# Copy this file to .env and update with your values

# Database Configuration
MYSQL_ROOT_PASSWORD=YOUR_MYSQL_ROOT_PASSWORD_HERE
MYSQL_DATABASE=appliance_db
MYSQL_USER=dashboard_user
MYSQL_PASSWORD=YOUR_MYSQL_USER_PASSWORD_HERE


# Backend Configuration
DB_HOST=database
DB_PORT=3306
DB_USER=dashboard_user
DB_PASSWORD=YOUR_MYSQL_USER_PASSWORD_HERE
DB_NAME=appliance_db
# Security Keys - CHANGE THESE IN PRODUCTION!
JWT_SECRET=YOUR_JWT_SECRET_KEY_HERE_CHANGE_IN_PRODUCTION
SSH_KEY_ENCRYPTION_SECRET=YOUR_SSH_ENCRYPTION_KEY_HERE_CHANGE_IN_PRODUCTION

# Default SSH credentials for SFTP in Guacamole
DEFAULT_SSH_USER=
DEFAULT_SSH_PASS=

# Environment
NODE_ENV=production

# CORS Configuration
ALLOWED_ORIGINS=http://localhost,https://localhost,http://localhost:9080,https://localhost:9443

# SSH Configuration
SSH_TOOLS_ENABLED=true
SSH_AUTO_INIT=true

# Port Configuration
BACKEND_PORT=3001
NGINX_HTTP_PORT=9080
NGINX_HTTPS_PORT=9443
TTYD_PORT=7681
DB_EXTERNAL_PORT=3306

# Volume Names (for better organization)
DB_VOLUME_NAME=appliance_db_data
SSH_KEYS_VOLUME_NAME=appliance_ssh_keys

# Container Names
DB_CONTAINER_NAME=appliance_db
BACKEND_CONTAINER_NAME=appliance_backend
WEBSERVER_CONTAINER_NAME=appliance_webserver
TTYD_CONTAINER_NAME=appliance_ttyd
GUACD_CONTAINER_NAME=appliance_guacd
GUACAMOLE_CONTAINER_NAME=appliance_guacamole
GUACAMOLE_DB_CONTAINER_NAME=appliance_guacamole_db

# Network Name
NETWORK_NAME=appliance_network

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30

# Feature Flags
FEATURE_AUDIT_LOG=true
FEATURE_BACKUP_RESTORE=true
FEATURE_SSH_TERMINAL=true
FEATURE_SERVICE_CONTROL=true
FEATURE_USER_MANAGEMENT=true
FEATURE_REMOTE_DESKTOP=true

# Guacamole Configuration
GUACAMOLE_DB_NAME=guacamole_db
GUACAMOLE_DB_USER=guacamole_user
GUACAMOLE_DB_PASSWORD=YOUR_GUACAMOLE_DB_PASSWORD_HERE
GUACAMOLE_PORT=9070
GUACAMOLE_URL=http://localhost:9070/guacamole
GUACAMOLE_PROXY_URL=
GUACD_LOG_LEVEL=info

# RustDesk Configuration
# NOTE: Default ports changed to avoid conflicts with local RustDesk installation
# Original ports: 21116-21120, Changed to: 21216-21220
RUSTDESK_ID_PORT=21216      # Changed from 21116 (to avoid conflicts)
RUSTDESK_RELAY_PORT=21217   # Changed from 21117 (to avoid conflicts)
RUSTDESK_WEB_PORT=21218     # Changed from 21118 (to avoid conflicts)
RUSTDESK_API_PORT=21219     # Changed from 21119 (to avoid conflicts)
RUSTDESK_WEBSOCKET_PORT=21220  # Changed from 21120 (to avoid conflicts)

# Logging
LOG_LEVEL=info
LOG_FORMAT=combined

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

EXTERNAL_URL=http://localhost
