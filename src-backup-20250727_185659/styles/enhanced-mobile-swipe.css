/* Mobile Tab Swipe Support */
@media (max-width: 768px) {
  /* Prevent background from intercepting swipes in panels */
  .settings-panel,
  .service-panel,
  .user-panel,
  .audit-log-panel {
    /* Higher z-index to ensure touch events are captured */
    z-index: 1301 !important;
    /* Prevent touch events from bubbling to background */
    touch-action: pan-y pinch-zoom;
  }

  /* Tab content container */
  .settings-panel .MuiBox-root[class*="overflow"],
  .service-panel .MuiBox-root[class*="overflow"] {
    /* Prevent horizontal scrolling */
    overflow-x: hidden !important;
    /* Allow vertical scrolling */
    overflow-y: auto !important;
    /* Ensure touch events work properly */
    -webkit-overflow-scrolling: touch;
    touch-action: pan-y;
  }

  /* Swipeable tab content container */
  .swipeable-tab-content {
    display: flex;
    transition: transform 0.3s ease-out;
    height: 100%;
    touch-action: pan-y;
  }

  .swipeable-tab-panel {
    width: 100%;
    flex-shrink: 0;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
  }

  /* Disable swipe on input elements */
  .settings-panel input,
  .settings-panel textarea,
  .settings-panel select,
  .service-panel input,
  .service-panel textarea,
  .service-panel select {
    touch-action: auto;
  }

  /* Visual feedback during swipe */
  .swipe-active {
    transition: none !important;
  }

  /* Swipe indicators */
  .mobile-swipe-indicators {
    position: fixed;
    bottom: 60px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    padding: 8px 16px;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 20px;
    z-index: 1310;
  }

  .swipe-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transition: all 0.3s;
    cursor: pointer;
  }

  .swipe-dot.active {
    width: 24px;
    border-radius: 4px;
    background: #007AFF;
  }

  /* Prevent body scroll when panel is open */
  body.has-open-panel {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
  }
}

/* Enhanced touch handling for tab navigation */
.tab-swipe-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.tab-swipe-track {
  display: flex;
  height: 100%;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.tab-swipe-track.swiping {
  transition: none;
}

.tab-swipe-panel {
  width: 100%;
  height: 100%;
  flex-shrink: 0;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Improved swipe hint */
@keyframes swipeHint {
  0% { transform: translateX(0); }
  25% { transform: translateX(-10px); }
  75% { transform: translateX(10px); }
  100% { transform: translateX(0); }
}

.swipe-hint-animation {
  animation: swipeHint 2s ease-in-out;
}
