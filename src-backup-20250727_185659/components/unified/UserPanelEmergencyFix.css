/* Emergency Mobile Fix for User Panel */

/* Force visibility on mobile devices */
@media (max-width: 768px) {
  /* Main container must be full width */
  .MuiBox-root[style*='backgroundColor: rgba(0, 0, 0, 0.95)'] {
    width: 100vw !important;
    max-width: 100vw !important;
    position: relative !important;
  }

  /* Tab panels must be visible */
  div[role="tabpanel"] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    width: 100% !important;
    height: auto !important;
    position: relative !important;
    overflow: visible !important;
  }

  /* Hidden tab panels should remain hidden */
  div[role="tabpanel"][hidden] {
    display: none !important;
  }

  /* Content inside tab panels */
  div[role="tabpanel"] > * {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    width: 100% !important;
  }

  /* Ensure scrollable content area */
  .MuiBox-root[style*='flex: 1'][style*='overflow: auto'] {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    height: 100% !important;
    width: 100% !important;
  }

  /* User cards must be visible */
  .MuiPaper-root {
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
  }

  /* Ensure text is visible */
  .MuiTypography-root {
    opacity: 1 !important;
    color: inherit !important;
  }

  /* Fix potential z-index issues */
  div[role="tabpanel"],
  div[role="tabpanel"] * {
    z-index: auto !important;
  }

  /* Ensure buttons are clickable */
  .MuiButton-root,
  .MuiIconButton-root {
    pointer-events: auto !important;
    opacity: 1 !important;
  }

  /* Debug - add visible borders */
  /*
  div[role="tabpanel"] {
    border: 3px solid lime !important;
  }
  
  .MuiBox-root[style*='flex: 1'] {
    border: 3px solid yellow !important;
  }
  
  .MuiPaper-root {
    border: 3px solid cyan !important;
  }
  */
}

/* iOS Specific Fixes */
@supports (-webkit-touch-callout: none) {
  @media (max-width: 768px) {
    /* Fix iOS rendering issues */
    div[role="tabpanel"],
    .MuiBox-root {
      -webkit-transform: translate3d(0, 0, 0) !important;
      transform: translate3d(0, 0, 0) !important;
    }

    /* Ensure proper height calculation */
    .MuiBox-root[style*='height: 100%'] {
      height: 100% !important;
      min-height: 100% !important;
    }
  }
}

/* Force GPU acceleration for better mobile performance */
@media (max-width: 768px) {
  .MuiBox-root,
  .MuiPaper-root,
  div[role="tabpanel"] {
    will-change: transform;
    transform: translateZ(0);
  }
}
